<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pinjaman Dana BPKB Motor</title>
  <link rel="stylesheet" href="styles.css">
  <style>
  /* Tombol WhatsApp melayang */
#floating-wa-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #25D366;
    color: white;
    font-size: 24px;
    padding: 15px;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 999;
    text-decoration: none;
    transition: transform 0.3s ease;
}

#floating-wa-button:hover {
    transform: scale(1.1);
}

  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to right, #f8f9fa, #e9ecef);
    margin: 0;
    padding: 0;
  }

  .container {
    max-width: 500px;
    margin: auto;
    padding: 20px;
    background-color: #ffffff;
    border-radius: 16px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    margin-top: 30px;
  }

  h1 {
    font-size: 24px;
    color: #343a40;
    text-align: center;
    margin-bottom: 20px;
  }

  .form-group {
    margin-bottom: 15px;
  }

  label {
    display: block;
    margin-bottom: 8px;
    color: #495057;
    font-weight: 600;
  }

  select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ced4da;
    border-radius: 8px;
    font-size: 16px;
    background-color: #f8f9fa;
    transition: all 0.3s ease;
  }

  select:focus {
    border-color: #007bff;
    outline: none;
    background-color: #fff;
  }

  button {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    font-weight: bold;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background-color: #0056b3;
  }

  #hasil {
    margin-top: 20px;
    padding: 15px;
    background-color: #e9f7ef;
    border-left: 5px solid #28a745;
    border-radius: 10px;
    color: #155724;
    font-size: 16px;
  }

  #whatsappButton {
    display: none;
    width: 100%;
    background-color: #25D366;
    color: white;
    padding: 14px;
    border-radius: 10px;
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    text-decoration: none;
    margin-top: 20px;
    transition: background-color 0.3s ease;
  }

  #whatsappButton:hover {
    background-color: #1ebe5b;
  }

  @media (max-width: 600px) {
    .container {
      margin: 20px;
      padding: 15px;
    }

    h1 {
      font-size: 20px;
    }

    button,
    #whatsappButton {
      font-size: 15px;
      padding: 12px;
    }

    select {
      font-size: 15px;
      padding: 8px;
    }
  }
</style>
</head>
<body>
  <!-- Tombol WhatsApp Melayang -->
  <a href="https://wa.me/62881023341621?text=HALLO%20BISA%20MINTA%20INFO%20UNTUK%20DATA%20KENDARAAN%20SAYA%20GA%20ADA%20DI%20LIST%20PENGAJUAN" target="_blank" id="floating-wa-button" title="Hubungi Admin">
    💬
  </a>

  <div class="container">
    <h1> Simulasi Pinjaman Dana dengan Jaminan BPKB Motor</h1>

    <form action="simpan_data.php" method="POST">
      <div class="form-group">
        <label for="merk">Pilih Merk Motor:</label>
        <select id="merk" name="merk" required onchange="updateModelMotor()">
          <option value="">-- Pilih Merk --</option>
          <option value="Honda">Honda</option>
          <option value="Yamaha">Yamaha</option>
        </select>
      </div>

      <div class="form-group">
        <label for="model">Pilih Model Motor:</label>
        <select id="model" name="model" required>
          <option value="">-- Pilih Model --</option>
        </select>
      </div>

      <div class="form-group">
        <label for="tahun">Pilih Tahun Motor:</label>
        <select id="tahun" name="tahun" required>
          <option value="2017">2017</option>
          <option value="2018">2018</option>
          <option value="2019">2019</option>
          <option value="2020">2020</option>
          <option value="2021">2021</option>
          <option value="2022">2022</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025">2025</option>
        </select>
      </div>

      <div class="form-group">
        <label for="kepemilikan">Kepemilikan:</label>
        <select id="kepemilikan" name="kepemilikan" required>
          <option value="sendiri">Miliki Sendiri</option>
          <option value="lain">Bukan Milik Sendiri</option>
        </select>
      </div>

      <div class="form-group">
        <label for="tenor">Pilih Tenor (Bulan):</label>
        <select id="tenor" name="tenor" required>
          <option value="12">12 Bulan</option>
          <option value="18">18 Bulan</option>
		  <option value="24">24 Bulan</option>
          <option value="36">36 Bulan</option>
        </select>
      </div>

      <input type="hidden" name="plafon" id="plafonInput">
      <input type="hidden" name="cicilan" id="cicilanInput">

      <button type="button" onclick="hitungPinjaman()">Hitung Pinjaman</button>
      <div id="hasil"></div>
      <p id="keterangan"></p>
      <a id="waLink" href="#" target="_blank" style="display: none;">
        <button type="submit">💬 Ajukan Sekarang via WhatsApp</button>
      </a>
    </form>
  </div>

  <!-- Script Data dan Logika -->
  <script>
    const modelPerMerk = {
      Honda: [
        "Beat CBS",
        "Vario 125",
        "PCX ABS",
        "Scoopy Smartkey",
        "CBR 150",
        "Beat Street",
        "Revo Fit",
		"Beat Deluxe",
		"ADV",
        "Supra X 125 FI",
        "Genio CBS"
      ],
      Yamaha: [
        "Nmax ABS",
        "Aerox 155 connected",
        "Mio J",
        "R15",
		"R25",
		"WR",
		"Vixion VVA",
        "Gear 125",
        "FreeGo",
        "XSR 155",
        "Lexi S",
		"Filano",
		"Fino",
      ]
    };

    function updateModelMotor() {
      const merk = document.getElementById("merk").value;
      const modelSelect = document.getElementById("model");
      modelSelect.innerHTML = "";

      if (modelPerMerk[merk]) {
        modelPerMerk[merk].forEach(function(model) {
          const option = document.createElement("option");
          option.value = model;
          option.textContent = model;
          modelSelect.appendChild(option);
        });
      } else {
        const option = document.createElement("option");
        option.value = "";
        option.textContent = "Model tidak tersedia";
        modelSelect.appendChild(option);
      }
    }

    const dataKendaraan = {
      Honda: {
  "Beat CBS": { 2017: 8500000, 2018: 9000000, 2019: 9500000, 2020: 10000000, 2021: 10500000, 2022: 11000000, 2023: 11500000, 2024: 12000000, 2025: 12500000, },
  "Vario 125": { 2017: 10000000, 2018: 10500000, 2019: 11000000, 2020: 11500000, 2021: 12000000, 2022: 12500000, 2023: 13000000, 2024: 13500000, 2025: 14000000, },
  "PCX ABS": { 2017: 17000000, 2018: 18000000, 2019: 19000000, 2020: 22000000, 2021: 23000000, 2022: 24000000, 2023: 25000000, 2024: 26000000, 2025: 27000000, },
  "Scoopy Smartkey": { 2017: 11000000, 2018: 11500000, 2019: 12000000, 2020: 12500000, 2021: 13000000, 2022: 13500000, 2023: 14000000, 2024: 14500000, 2025: 15000000, },
  "CBR 150": { 2017: 16000000, 2018: 17000000, 2019: 18000000, 2020: 19000000, 2021: 20000000, 2022: 21000000, 2023: 22000000, 2024: 23000000, 2025: 24000000, },
  "Beat Street": { 2017: 9000000, 2018: 9500000, 2019: 10000000, 2020: 10500000, 2021: 11000000, 2022: 11500000, 2023: 12000000, 2024: 12500000, 2025: 13000000, },
  "Revo Fit": { 2017: 7500000, 2018: 8000000, 2019: 8500000, 2020: 9000000, 2021: 9500000, 2022: 10000000, 2023: 10500000, 2024: 11000000, 2025: 11500000, },
  "Supra X 125 FI": { 2017: 9500000, 2018: 10000000, 2019: 10500000, 2020: 11000000, 2021: 11500000, 2022: 12000000, 2023: 12500000, 2024: 13000000, 2025: 13500000, },
  "Genio CBS": { 2017: 0, 2018: 0, 2019: 10000000, 2020: 10500000, 2021: 11000000, 2022: 11500000, 2023: 12000000, 2024: 12500000, 2025: 13000000, },
  "Beat Deluxe": { 2017: 0, 2018: 0, 2019: 9700000, 2020: 10200000, 2021: 10700000, 2022: 11200000, 2023: 11700000, 2024: 12200000, 2025: 12700000, },
  "ADV": { 2017: 0, 2018: 0, 2019: 21000000, 2020: 22000000, 2021: 23000000, 2022: 24000000, 2023: 25000000, 2024: 26000000, 2025: 27000000, },
        // tambahkan model lainnya...
      },
      Yamaha: {
        "Nmax ABS": { 2020: 21000000, 2021: 22000000, 2022: 23000000, 2023: 24000000 },
        "Aerox 155 connected": { 2020: 19000000, 2021: 20000000, 2022: 21000000, 2023: 22000000, 2024: 26000000, 2025: 28000000 },
        "Mio J": { 2017: 5000000 ,2018: 7000000, 2019: 8000000, 2020: 8500000 },
		 "R15": { 2019: 22000000, 2020: 23000000, 2021: 24000000, 2022: 25000000, 2023: 26000000, 2024: 27000000, 2025: 28000000 },
		 "Gear 125": { 2017: 12600000, 2018: 13500000, 2019: 14400000, 2020: 15300000, 2021: 16200000, 2022: 17100000, 2023: 18000000, 2024: 18900000, 2025: 18000000 },
        "Filano": { 2017: 18900000, 2018: 20250000, 2019: 21600000, 2020: 22950000 ,2021: 24300000, 2022: 25650000, 2023: 27000000, 2024: 28350000, 2025: 27000000 },
		"Fino": { 2017: 14350000, 2018: 15560000, 2019: 16780000, 2020: 18000000, 2021: 19210000, 2022: 20430000, 2023: 21650000, 2024: 22860000, 2025: 20500000 },
		"R25": { 2017: 41850000, 2018: 45000000, 2019: 48150000, 2020: 51300000, 2021: 54450000, 2022: 57600000, 2023: 60750000, 2024: 63900000, 2025: 62000000 },
      "WR": { 2017: 26950000, 2018: 29060000, 2019: 31180000, 2020: 33290000, 2021: 35410000, 2022: 37520000, 2023: 39640000, 2024: 41750000, 2025: 38500000 },
      "Vixion VVA": { 2017: 21350000, 2018: 23060000, 2019: 24780000, 2020: 26490000, 2021: 28210000, 2022: 29920000, 2023: 31640000, 2024: 33350000, 2025: 30500000 },
		// tambahkan model lainnya...
      }
    };

    function hitungPinjaman() {
      const merk = document.getElementById("merk").value;
      const model = document.getElementById("model").value;
      const tahun = parseInt(document.getElementById("tahun").value);
      const kepemilikan = document.getElementById("kepemilikan").value;
      const tenor = parseInt(document.getElementById("tenor").value);

      // Validasi data tersedia
      if (!dataKendaraan[merk] || !dataKendaraan[merk][model] || !dataKendaraan[merk][model][tahun]) {
        document.getElementById("hasil").innerHTML = "<strong style='color:red;'>❌ Data motor tidak sesuai atau belum tersedia.</strong>";
        document.getElementById("keterangan").style.display = "none";
        document.getElementById("waLink").style.display = "none";
        return;
      }

      const hargaMotor = dataKendaraan[merk][model][tahun];
      const plafonPinjaman = hargaMotor * 0.8;
      const cicilan = (plafonPinjaman / tenor) * 1.48;

      document.getElementById("plafonInput").value = plafonPinjaman;
      document.getElementById("cicilanInput").value = cicilan;

      document.getElementById("hasil").innerHTML = `
        <strong>Plafon Pinjaman:</strong> Rp ${plafonPinjaman.toLocaleString()} <br>
        <strong>Cicilan per bulan:</strong> Rp ${cicilan.toLocaleString()}
      `;

      document.getElementById("keterangan").style.display = "block";
      document.getElementById("keterangan").innerHTML = `⚠️ PENCAIRAN DAN CICILAN BERSIFAT SEMENTARA.<br>UNTUK PERHITUNGAN LEBIH AKURAT, HUBUNGI ADMIN.`;

      const pesan = `Halo Admin, saya ingin mengajukan pinjaman dengan data berikut:\n- Merk: ${merk}\n- Model: ${model}\n- Tahun: ${tahun}\n- Kepemilikan: ${kepemilikan}\n- Tenor: ${tenor} bulan\n- Plafon: Rp ${plafonPinjaman.toLocaleString()}\n- Cicilan: Rp ${cicilan.toLocaleString()}`;
      const linkWA = `https://wa.me/62881023341621?text=${encodeURIComponent(pesan)}`;
      document.getElementById("waLink").href = linkWA;
      document.getElementById("waLink").style.display = "block";
    }
  </script>
</body>
</html>
